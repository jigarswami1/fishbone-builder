
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fishbone Diagram Builder (Offline)</title>
  <link rel="stylesheet" href="./styles.css" />
  <link rel="manifest" href="./manifest.json" />
  <meta name="theme-color" content="#2f855a" />
</head>
<body>
  <header>
    <h1>Fishbone Diagram Builder</h1>
    <div class="actions">
      <button id="themeToggleBtn" title="Toggle Light/Dark">Light â†’ Dark</button>
      <select id="headSideSelect" title="Fish head side">
        <option value="right">Head: Right</option>
        <option value="left">Head: Left</option>
      </select>
      <button id="exportPngBtn">Export PNG</button>
      <button id="exportJsonBtn">Export JSON</button>
      <label class="import">
        Import JSON
        <input type="file" id="importJsonInput" accept=".json" />
      </label>
      <button id="resetBtn" title="Clears current diagram">Reset</button>
    </div>
  </header>

  <main>
    <!-- Left: controls -->
    <section class="panel">
      <h2>Define Problem</h2>
      <input id="problemInput" type="text" placeholder="e.g., High defect rate" />

      <h2>Add Category</h2>
      <div class="row">
        <input id="categoryInput" type="text" placeholder="e.g., People" />
        <button id="addCategoryBtn">Add Category</button>
      </div>

      <h2>Add Cause</h2>
      <div class="row">
        <select id="categorySelect"></select>
        <input id="causeInput" type="text" placeholder="e.g., Inadequate training" />
        <button id="addCauseBtn">Add Cause</button>
      </div>

      <h2>Current Structure</h2>
      <div id="structure"></div>
    </section>

    <!-- Right: diagram -->
    <section class="diagram">
      <svg id="fishSvg" viewBox="0 0 1200 700" width="100%" height="100%"></svg>
    </section>
  </main>

  <footer>
    <small>Tip: Alternate categories (top/bottom) for readability. Use Export JSON to save your work.</small>
  </footer>

  <script src="./app.js"></script>
  <script>
    // Optional offline caching
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js').catch(console.warn);
    }
  </script>
</body>
</html>

